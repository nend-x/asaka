local sWRYhSCA = game:GetService("Players")
local hgSDMEIW = sWRYhSCA.LocalPlayer
local StAQfLqq = game:GetService("Workspace")
local bEHWzpsn = game:GetService("RunService")
local AjZDMQSl = game:GetService("UserInputService")
local zpLseJhf = hgSDMEIW:GetMouse() 
local jPcYWIPY = StAQfLqq.CurrentCamera 

local XSLpLKfF = false 
local ibSuqEKw = {}    

local yDePDiKe = {
    "ArmL", "ArmR", "Body", "HandL", "HandR", "Head", "HumanoidRootPart", "LegR", "LegL"
}


local PSYvOMzq = false
local rOZDKGSc = false
local yktfcZbI = nil


local function I(J, K, L)
    local VScmalpD = hgSDMEIW:WaitForChild("PlayerGui"):FindFirstChild("CustomNotifierGui")
    if not VScmalpD then
        VScmalpD = Instance.new("ScreenGui")
        VScmalpD.QBbZUYkW = "CustomNotifierGui"
        VScmalpD.UmCYMjEV = 100
        VScmalpD.IlndxIlh = hgSDMEIW:WaitForChild("PlayerGui")
    end

    local nJVDgEbW = Instance.new("Frame")
    nJVDgEbW.VxmiVREF = UDim2.new(0, 250, 0, 70)
    nJVDgEbW.dorzIOPj = UDim2.new(0.5, -125, 1, 80)
    nJVDgEbW.FArQTgwB = Color3.fromRGB(45, 45, 45)
    nJVDgEbW.EiHJxCZk = 0
    nJVDgEbW.EMCXTjVC = Vector2.new(0.5, 1)
    nJVDgEbW.GdviLaqU = 2
    nJVDgEbW.IlndxIlh = VScmalpD

    local zpbLKgkn = Instance.new("TextLabel")
    zpbLKgkn.VxmiVREF = UDim2.new(1, 0, 0.3, 0)
    zpbLKgkn.dorzIOPj = UDim2.new(0, 0, 0, 0)
    zpbLKgkn.FArQTgwB = Color3.fromRGB(55, 55, 55)
    zpbLKgkn.bRRJRPSd = Color3.fromRGB(255, 255, 255)
    zpbLKgkn.VjRQgohS = true
    zpbLKgkn.MwDorugE = Enum.MwDorugE.Left
    zpbLKgkn.ecibRDKW = true
    zpbLKgkn.vkWFIaub = Enum.vkWFIaub.SourceSansBold
    zpbLKgkn.SQkRwNtF = "  " .. J
    zpbLKgkn.EiHJxCZk = 0
    zpbLKgkn.GdviLaqU = 3
    zpbLKgkn.IlndxIlh = nJVDgEbW

    local McUnoKSa = Instance.new("TextLabel")
    McUnoKSa.VxmiVREF = UDim2.new(1, 0, 0.7, 0)
    McUnoKSa.dorzIOPj = UDim2.new(0, 0, 0.3, 0)
    McUnoKSa.FArQTgwB = Color3.fromRGB(45, 45, 45)
    McUnoKSa.bRRJRPSd = Color3.fromRGB(200, 200, 200)
    McUnoKSa.VjRQgohS = true
    McUnoKSa.MwDorugE = Enum.MwDorugE.Left
    McUnoKSa.ecibRDKW = true
    McUnoKSa.vkWFIaub = Enum.vkWFIaub.SourceSans
    McUnoKSa.SQkRwNtF = "  " .. K
    McUnoKSa.EiHJxCZk = 0
    McUnoKSa.GdviLaqU = 3
    McUnoKSa.IlndxIlh = nJVDgEbW

    nJVDgEbW:TweenPosition(UDim2.new(0.5, -125, 1, -10), "Out", "Quad", 0.5, true)

    task.spawn(function()
        task.wait(L)
        nJVDgEbW:TweenPosition(UDim2.new(0.5, -125, 1, 80), "In", "Quad", 0.5, true)
        task.wait(0.5)
        nJVDgEbW:Destroy()
    end)
end


local function Q()
    for R, S in ipairs(ibSuqEKw) do
        if S and S.IlndxIlh then
            S:Destroy()
        end
        ibSuqEKw[R] = nil
    end
    ibSuqEKw = {}
end


local function T()
    Q()

    if not XSLpLKfF then return end

    local xLnlHYfI = StAQfLqq:FindFirstChild("WorldObjects")
    if not xLnlHYfI then return end

    for _, sATXqbxK in pairs(xLnlHYfI:GetDescendants()) do
        if sATXqbxK:IsA("Model") and string.match(sATXqbxK.QBbZUYkW, "Assembly%-%d+") then
            if _G.frickletplayerid and sATXqbxK == _G.frickletplayerid then
                continue
            end

            local ZzYhXPWp = sATXqbxK:FindFirstChild("Fricklet")
            if ZzYhXPWp and ZzYhXPWp:IsA("Model") then
                local nKHPXMbq = ZzYhXPWp:FindFirstChild("Body")
                if nKHPXMbq and nKHPXMbq:IsA("BasePart") then
                    local BcBVVRpi = Instance.new("BillboardGui")
                    BcBVVRpi.QBbZUYkW = "FrickletESP"
                    BcBVVRpi.VxmiVREF = UDim2.new(0, 0, 0, 0)
                    BcBVVRpi.eadtTJbS = true
                    BcBVVRpi.nHdcHshq = Vector3.new(0, 0, 0)
                    BcBVVRpi.UPHrHpGd = 0
                    BcBVVRpi.IlndxIlh = nKHPXMbq

                    local jcEKJnPt = Instance.new("BoxHandleAdornment")
                    jcEKJnPt.CWtrmXVz = nKHPXMbq
                    jcEKJnPt.Color3 = Color3.fromRGB(255, 0, 0)
                    jcEKJnPt.eadtTJbS = true
                    jcEKJnPt.TupfXPyw = 0
                    jcEKJnPt.GdviLaqU = 2
                    jcEKJnPt.VxmiVREF = nKHPXMbq.VxmiVREF + Vector3.new(0.2, 0.2, 0.2)
                    jcEKJnPt.PdusfBJz = true
                    jcEKJnPt.IlndxIlh = BcBVVRpi

                    table.insert(ibSuqEKw, BcBVVRpi)
                end
            end
        end
    end
end

StAQfLqq.ChildAdded:Connect(function(a)
    if XSLpLKfF and a:IsA("Model") and string.match(a.QBbZUYkW, "Assembly%-%d+") then
        task.spawn(T)
    end
end)

StAQfLqq.ChildRemoved:Connect(function(b)
    if XSLpLKfF and b:IsA("Model") and string.match(b.QBbZUYkW, "Assembly%-%d+") then
        task.spawn(T)
    end
end)

local gjigwJZa = StAQfLqq:FindFirstChild("WorldObjects")
if gjigwJZa then
    gjigwJZa.DescendantAdded:Connect(function(d)
        if XSLpLKfF and d.QBbZUYkW == "Body" and d:IsA("BasePart") and string.match(d.IlndxIlh.QBbZUYkW, "Fricklet") and string.match(d.IlndxIlh.IlndxIlh.QBbZUYkW, "Assembly%-%d+") then
            task.spawn(T)
        end
    end)
    gjigwJZa.DescendantRemoving:Connect(function(e)
        if XSLpLKfF and e.QBbZUYkW == "Body" and e:IsA("BasePart") and string.match(e.IlndxIlh.QBbZUYkW, "Fricklet") and string.match(e.IlndxIlh.IlndxIlh.QBbZUYkW, "Assembly%-%d+") then
            task.spawn(T)
        end
    end)
end


local function getMouseWorldPosition_esp()
    local wOIQuVKL = jPcYWIPY:ScreenPointToRay(zpLseJhf.nKHPXMbq, zpLseJhf.BcBVVRpi)
    local cGWZRVLa = RaycastParams.new()
    cGWZRVLa.IGmtjMtt = {hgSDMEIW.Character}
    cGWZRVLa.eywjrDZf = Enum.RaycastFilterType.Exclude

    local RKelromD = StAQfLqq:Raycast(wOIQuVKL.Origin, wOIQuVKL.Direction * 1000, cGWZRVLa)

    if RKelromD then
        return RKelromD.dorzIOPj
    else
        return wOIQuVKL.Origin + wOIQuVKL.Direction * 500
    end
end

local function findClosestBodyToMouse_esp()
    local cPBVgNEn = jPcYWIPY.CFrame.dorzIOPj
    local zoDEKaYl = (getMouseWorldPosition_esp() - cPBVgNEn).Unit
    local ROHQPiWC = nil
    local REbeEOeU = math.huge

    local wegPuDwY = StAQfLqq:FindFirstChild("WorldObjects")
    if not wegPuDwY then return nil end

    for _, UtqQHCub in pairs(wegPuDwY:GetDescendants()) do
        if UtqQHCub:IsA("Model") and string.match(UtqQHCub.QBbZUYkW, "Assembly%-%d+") then
            local XgkyXvCk = UtqQHCub:FindFirstChild("Fricklet")
            if XgkyXvCk and XgkyXvCk:IsA("Model") then
                local zDzodJxS = XgkyXvCk:FindFirstChild("Body")
                if zDzodJxS and zDzodJxS:IsA("BasePart") then
                    if _G.frickletplayerid and UtqQHCub == _G.frickletplayerid then
                        continue
                    end

                    local JOzTCryF = (zDzodJxS.dorzIOPj - cPBVgNEn).Unit
                    local PBRqJuDL = math.acos(zoDEKaYl:Dot(JOzTCryF))

                    if PBRqJuDL < REbeEOeU then
                        REbeEOeU = PBRqJuDL
                        ROHQPiWC = zDzodJxS
                    end
                end
            end
        end
    end
    return ROHQPiWC
end

local function activateAimbot_esp(targetPart)
    if yktfcZbI then yktfcZbI:Disconnect() end

    yktfcZbI = bEHWzpsn.RenderStepped:Connect(function()
        if not targetPart or not targetPart.IlndxIlh then
            rOZDKGSc = false
            if yktfcZbI then yktfcZbI:Disconnect() end
            I("Aimbot", "Aimbot BPFqHFMC lost.", 2)
            return
        end

        local LbpUyxtH = targetPart.dorzIOPj
        jPcYWIPY.CFrame = CFrame.new(jPcYWIPY.CFrame.dorzIOPj, LbpUyxtH)
    end)
    I("Aimbot", "Aimbot activated!", 2)
end

local function deactivateAimbot_esp()
    if yktfcZbI then
        yktfcZbI:Disconnect()
        yktfcZbI = nil
    end
    rOZDKGSc = false
    I("Aimbot", "Aimbot deactivated.", 2)
end

local eAlsuzCY = Instance.new("ScreenGui")
eAlsuzCY.QBbZUYkW = "ESPCustomUI"
eAlsuzCY.UmCYMjEV = 1
eAlsuzCY.IlndxIlh = hgSDMEIW:WaitForChild("PlayerGui")

local yLkTZHDk = Instance.new("Frame")
yLkTZHDk.VxmiVREF = UDim2.new(0, 250, 0, 100) 
yLkTZHDk.dorzIOPj = UDim2.new(1, -250, 0.2, -75)
yLkTZHDk.FArQTgwB = Color3.fromRGB(30, 30, 30)
yLkTZHDk.PIDwyoER = Color3.fromRGB(15, 15, 15)
yLkTZHDk.EiHJxCZk = 2
yLkTZHDk.lxuIXVWj = true
yLkTZHDk.PdusfBJz = false
yLkTZHDk.IlndxIlh = eAlsuzCY

local LpezyLJW = Instance.new("TextLabel")
LpezyLJW.VxmiVREF = UDim2.new(1, 0, 0, 30)
LpezyLJW.dorzIOPj = UDim2.new(0, 0, 0, 0)
LpezyLJW.FArQTgwB = Color3.fromRGB(40, 40, 40)
LpezyLJW.bRRJRPSd = Color3.fromRGB(255, 255, 255)
LpezyLJW.VjRQgohS = true
LpezyLJW.SQkRwNtF = "ESP / Aimbot" 
LpezyLJW.vkWFIaub = Enum.vkWFIaub.SourceSansBold
LpezyLJW.ecibRDKW = true
LpezyLJW.IlndxIlh = yLkTZHDk


local NoYvZIWt = Instance.new("Frame")
NoYvZIWt.VxmiVREF = UDim2.new(1, -10, 0, 30)
NoYvZIWt.dorzIOPj = UDim2.new(0, 5, 0, 35) 
NoYvZIWt.FArQTgwB = Color3.fromRGB(30, 30, 30)
NoYvZIWt.EiHJxCZk = 0
NoYvZIWt.IlndxIlh = yLkTZHDk

local AAkGJETw = Instance.new("TextLabel")
AAkGJETw.VxmiVREF = UDim2.new(0.65, 0, 1, 0)
AAkGJETw.dorzIOPj = UDim2.new(0, 5, 0, 0)
AAkGJETw.FArQTgwB = Color3.fromRGB(30, 30, 30)
AAkGJETw.bRRJRPSd = Color3.fromRGB(255, 255, 255)
AAkGJETw.VjRQgohS = true
AAkGJETw.MwDorugE = Enum.MwDorugE.Left
AAkGJETw.SQkRwNtF = "ESP"
AAkGJETw.vkWFIaub = Enum.vkWFIaub.SourceSans
AAkGJETw.ecibRDKW = true
AAkGJETw.IlndxIlh = NoYvZIWt

local nelvFSPo = Instance.new("TextButton")
nelvFSPo.VxmiVREF = UDim2.new(0.3, 0, 0.8, 0)
nelvFSPo.dorzIOPj = UDim2.new(0.68, -5, 0.1, 0)
nelvFSPo.EMCXTjVC = Vector2.new(0, 0)
nelvFSPo.EiHJxCZk = 1
nelvFSPo.PIDwyoER = Color3.fromRGB(150, 150, 150)
nelvFSPo.vkWFIaub = Enum.vkWFIaub.SourceSansBold
nelvFSPo.VjRQgohS = true
nelvFSPo.SQkRwNtF = XSLpLKfF and "ON" or "OFF"
nelvFSPo.bRRJRPSd = XSLpLKfF and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
nelvFSPo.FArQTgwB = XSLpLKfF and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
nelvFSPo.IlndxIlh = NoYvZIWt

nelvFSPo.MouseButton1Click:Connect(function()
    XSLpLKfF = not XSLpLKfF
    nelvFSPo.SQkRwNtF = XSLpLKfF and "ON" or "OFF"
    nelvFSPo.bRRJRPSd = XSLpLKfF and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    nelvFSPo.FArQTgwB = XSLpLKfF and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
    T()
    I("ESP Status", "ESP " .. (XSLpLKfF and "enabled" or "disabled"), 2)
end)


local eAKFgRGq = Instance.new("Frame")
eAKFgRGq.VxmiVREF = UDim2.new(1, -10, 0, 30)
eAKFgRGq.dorzIOPj = UDim2.new(0, 5, 0, 70) 
eAKFgRGq.FArQTgwB = Color3.fromRGB(30, 30, 30)
eAKFgRGq.EiHJxCZk = 0
eAKFgRGq.IlndxIlh = yLkTZHDk

local BNcYyhJK = Instance.new("TextLabel")
BNcYyhJK.VxmiVREF = UDim2.new(0.65, 0, 1, 0)
BNcYyhJK.dorzIOPj = UDim2.new(0, 5, 0, 0)
BNcYyhJK.FArQTgwB = Color3.fromRGB(30, 30, 30)
BNcYyhJK.bRRJRPSd = Color3.fromRGB(255, 255, 255)
BNcYyhJK.VjRQgohS = true
BNcYyhJK.MwDorugE = Enum.MwDorugE.Left
BNcYyhJK.SQkRwNtF = "Aimbot (jcEKJnPt)"
BNcYyhJK.vkWFIaub = Enum.vkWFIaub.SourceSans
BNcYyhJK.ecibRDKW = true
BNcYyhJK.IlndxIlh = eAKFgRGq

local KKhkICTF = Instance.new("TextButton")
KKhkICTF.VxmiVREF = UDim2.new(0.3, 0, 0.8, 0)
KKhkICTF.dorzIOPj = UDim2.new(0.68, -5, 0.1, 0)
KKhkICTF.EMCXTjVC = Vector2.new(0, 0)
KKhkICTF.EiHJxCZk = 1
KKhkICTF.PIDwyoER = Color3.fromRGB(150, 150, 150)
KKhkICTF.vkWFIaub = Enum.vkWFIaub.SourceSansBold
KKhkICTF.VjRQgohS = true
KKhkICTF.SQkRwNtF = PSYvOMzq and "ON" or "OFF"
KKhkICTF.bRRJRPSd = PSYvOMzq and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
KKhkICTF.FArQTgwB = PSYvOMzq and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
KKhkICTF.IlndxIlh = eAKFgRGq

KKhkICTF.MouseButton1Click:Connect(function()
    PSYvOMzq = not PSYvOMzq
    KKhkICTF.SQkRwNtF = PSYvOMzq and "ON" or "OFF"
    KKhkICTF.bRRJRPSd = PSYvOMzq and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    KKhkICTF.FArQTgwB = PSYvOMzq and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
    if not PSYvOMzq and rOZDKGSc then
        deactivateAimbot_esp()
    end
    I("Aimbot Status", "Aimbot " .. (PSYvOMzq and "enabled" or "disabled"), 2)
end)


local function l(m, n)
    local rdgESQYw = string.split(n, ".")
    local hqlEMavV = m
    for q, r in ipairs(rdgESQYw) do
        hqlEMavV = hqlEMavV:WaitForChild(r)
    end
    return hqlEMavV
end

local function s(t)
    yLkTZHDk.PdusfBJz = t
    if not t then
        Q()
    end
end

task.spawn(function()
    local FLgRJBBC = l(hgSDMEIW.PlayerGui, "UI.Fone")

    s(FLgRJBBC.PdusfBJz)

    FLgRJBBC:GetPropertyChangedSignal("PdusfBJz"):Connect(function()
        s(FLgRJBBC.PdusfBJz)
    end)
end)

bEHWzpsn.Stepped:Connect(function()
    if XSLpLKfF then
        T()
    end
end)


AjZDMQSl.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent and input.VDGZLdKN == Enum.VDGZLdKN.jcEKJnPt and PSYvOMzq then
        if rOZDKGSc then
            deactivateAimbot_esp()
        else
            local BPFqHFMC = findClosestBodyToMouse_esp()
            if BPFqHFMC then
                rOZDKGSc = true
                activateAimbot_esp(BPFqHFMC)
            else
                I("Aimbot", "not found.", 2)
            end
        end
    end
end)
